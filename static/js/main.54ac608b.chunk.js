(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{156:function(e,t){},233:function(e,t,n){},235:function(e,t,n){},265:function(e,t){},267:function(e,t){},277:function(e,t){},279:function(e,t){},306:function(e,t){},308:function(e,t){},309:function(e,t){},315:function(e,t){},317:function(e,t){},335:function(e,t){},337:function(e,t){},349:function(e,t){},352:function(e,t){},383:function(e,t,n){"use strict";n.r(t);var s=n(8),r=(n(233),n(57)),a=n(13),c=n(0),i=n.n(c),o=n(37),l=n(21),u=(n(235),n(1)),p=n.n(u),d=n(429),f=n(433),b=n(427),j=n(431),m=n(218),h=n.n(m),g=n(24),v=n(430),x=p.a.createContext({getProfileFB:function(){return Promise.resolve({isSuccessful:!1})},setProfileFB:function(){return Promise.resolve({isSuccessful:!1})},getAllProfilesFB:function(){return Promise.resolve({isSuccessful:!1})}}),y="https://network3-backend.herokuapp.com",O=function(e){var t=e.children,n=Object(u.useCallback)(function(){var e=Object(o.a)(i.a.mark((function e(t){var n;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(y+"/users/profile/".concat(t),{method:"GET"});case 2:if(!(n=e.sent).ok){e.next=7;break}return e.next=6,n.json();case 6:return e.abrupt("return",e.sent);case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),[]),r=Object(u.useCallback)(function(){var e=Object(o.a)(i.a.mark((function e(t){var n;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(y+"/users/profile",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({profile:t})});case 2:if(!(n=e.sent).ok){e.next=5;break}return e.abrupt("return",{isSuccessful:!0});case 5:return e.abrupt("return",{isSuccessful:!1,message:n.statusText});case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),[]),a=Object(u.useCallback)(Object(o.a)(i.a.mark((function e(){var t;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(y+"/users/allProfiles",{method:"GET"});case 2:if(!(t=e.sent).ok){e.next=7;break}return e.next=6,t.json();case 6:return e.abrupt("return",e.sent);case 7:case"end":return e.stop()}}),e)}))),[]);return Object(s.jsx)(x.Provider,{value:{getProfileFB:n,setProfileFB:r,getAllProfilesFB:a},children:t})},w=n(108),k="localhost"===window.location.hostname?"ws://localhost:8000":"wss://network3-backend.herokuapp.com",S=h()(k,{transports:["websocket"]}),A=new g.i({name:"Beacon Docs"}),z=["0","v1.0","v2.0","v3.0","v4.0","v5.0"],B=Object(v.a)();var P=function(){var e=Object(u.useState)(),t=Object(l.a)(e,2),n=t[0],c=t[1],m=Object(u.useState)("sync"),h=Object(l.a)(m,2),g=h[0],v=h[1],y=Object(u.useState)(!1),O=Object(l.a)(y,2),k=O[0],P=O[1],C=Object(u.useState)(),F=Object(l.a)(C,2),I=F[0],T=F[1],L=Object(u.useContext)(x),N=L.getProfileFB,E=L.setProfileFB,G=L.getAllProfilesFB,R=Object(u.useState)({song:I,timestamp:Date.now(),key:B,username:""}),D=Object(l.a)(R,2),_=D[0],q=D[1],J=Object(u.useState)([]),K=Object(l.a)(J,2),X=K[0],H=K[1],U=p.a.useState(""),M=Object(l.a)(U,2),Q=M[0],V=M[1],W=Object(w.b)().enqueueSnackbar,Y=Object(u.useState)([]),Z=Object(l.a)(Y,2),$=Z[0],ee=Z[1],te=Object(u.useState)(3),ne=Object(l.a)(te,1)[0],se=p.a.useState(""),re=Object(l.a)(se,2),ae=re[0],ce=re[1];function ie(){return(ie=Object(o.a)(i.a.mark((function e(){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=c,e.next=3,A.getActiveAccount();case 3:e.t1=e.sent,(0,e.t0)(e.t1),n&&A.clearActiveAccount().then(Object(o.a)(i.a.mark((function e(){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=c,e.next=3,A.getActiveAccount();case 3:e.t1=e.sent,(0,e.t0)(e.t1),v("sync"),P(!1);case 7:case"end":return e.stop()}}),e)}))));case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function oe(){return le.apply(this,arguments)}function le(){return(le=Object(o.a)(i.a.mark((function e(){var t;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=c,e.next=3,A.getActiveAccount();case 3:if(e.t1=e.sent,(0,e.t0)(e.t1),!n){e.next=12;break}return v(n.address),P(!0),S.emit("join",n.address),e.abrupt("return",n);case 12:return e.prev=12,console.log("Requesting permissions..."),e.next=16,A.requestPermissions();case 16:return t=e.sent,e.t2=c,e.next=20,A.getActiveAccount();case 20:e.t3=e.sent,(0,e.t2)(e.t3),console.log("Got permissions:",t.address),v(t.address),P(!0),e.next=30;break;case 27:e.prev=27,e.t4=e.catch(12),console.log("Got error:",e.t4);case 30:case"end":return e.stop()}}),e,null,[[12,27]])})))).apply(this,arguments)}function ue(){if(n){var e=Date.now();q(Object(r.a)(Object(r.a)({},_),{},{song:I,key:n.address,username:Q,timestamp:e})),S.emit("profile",Object(r.a)(Object(r.a)({},_),{},{song:I,key:n.address,username:Q,timestamp:e})),E(Object(r.a)(Object(r.a)({},_),{},{song:I,key:n.address,username:Q,timestamp:e})),ee($.concat([Object(r.a)(Object(r.a)({},_),{},{song:I,key:n.address,username:Q,timestamp:e})]).sort((function(e,t){return parseFloat(t.timestamp)-parseFloat(e.timestamp)}))),W("Status Updated ! ",{variant:"success"}),V("")}else oe()}return Object(u.useEffect)((function(){function e(){return(e=Object(o.a)(i.a.mark((function e(){var t;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,G();case 2:t=e.sent,H(t.recentStatus),ee(t.history);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[G]),Object(u.useEffect)((function(){var e=function(e){ee($.concat(e).sort((function(e,t){return parseFloat(t.timestamp)-parseFloat(e.timestamp)}))),X.find((function(t,n){return t.key===e.key&&(H([].concat(Object(a.a)(X.slice(0,n)),[e],Object(a.a)(X.slice(n+1)))),!0)}))};return S.on("profile",e),function(){S.off("profile",e)}}),[X,H,$]),Object(u.useEffect)((function(){function e(){return(e=Object(o.a)(i.a.mark((function e(){var t;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=c,e.next=3,A.getActiveAccount();case 3:if(e.t1=e.sent,(0,e.t0)(e.t1),!n){e.next=16;break}return v(n.address.slice(0,6)+"..."+n.address.slice(32,36)),P(!0),e.next=10,N(n.address);case 10:t=e.sent,q(t),V(t.username),S.emit("join",n.address),e.next=18;break;case 16:v("sync"),P(!1);case 18:case"end":return e.stop()}}),e)})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[n,N]),Object(s.jsxs)("div",{children:[Object(s.jsxs)("div",{className:"top-left",style:{fontSize:"1.3em",display:"flex",alignItems:"center",marginLeft:6,paddingInline:5},children:[Object(s.jsx)("div",{style:{fontFamily:"LeagueGothic"},children:"Network "}),"\xa0",Object(s.jsxs)(d.a,{value:ne,label:"version",onChange:function(e){var t;return console.log(e.target.value),1===e.target.value?t="https://network1.cc/":2===e.target.value?t="https://adventurepizza.github.io/Network2/":4===e.target.value?t="https://adventurepizza.github.io/Network4/":5===e.target.value&&(t="https://adventurepizza.github.io/Network5/"),window.location.href=t,null},children:[Object(s.jsxs)(f.a,{value:1,children:[" ",z[1]]}),Object(s.jsxs)(f.a,{value:2,children:[" ",z[2]]}),Object(s.jsxs)(f.a,{value:3,children:[" ",z[3]]}),Object(s.jsxs)(f.a,{value:4,children:[" ",z[4]]}),Object(s.jsxs)(f.a,{value:5,children:[" ",z[5]]})]}),"\xa0 \ud83d\udce0"]}),Object(s.jsx)("div",{style:{fontSize:"0.9em",marginTop:3,marginLeft:13},children:Object(s.jsx)("b",{children:"History"})}),Object(s.jsx)("div",{style:{display:"flex",width:"90%",marginLeft:"auto",marginRight:"auto",overflowX:"scroll"},children:$&&$.map((function(e){return Object(s.jsx)("div",{style:{textAlign:"center"},children:e.song&&Object(s.jsxs)("div",{style:{width:300,border:"solid 4px ",marginInline:4,padding:1},children:[Object(s.jsxs)("div",{style:{textAlign:"center",fontSize:"1.4em",marginInline:6},children:[e.song&&"string"===typeof e.song&&Object(s.jsx)("iframe",{allow:"autoplay *; encrypted-media *; fullscreen *",frameBorder:"0",height:"150",width:"100%",sandbox:"allow-forms allow-popups allow-same-origin allow-scripts allow-storage-access-by-user-activation allow-top-navigation-by-user-activation",src:e.song}),e.song&&e.song.type&&Object(s.jsx)("iframe",{title:e.timestamp,src:"https://open.spotify.com/embed/".concat(e.song.type,"/").concat(e.song.id,"?utm_source=generator"),width:"100%",height:"152",frameBorder:"0",allow:"autoplay; clipboard-write; encrypted-media; fullscreen; picture-in-picture"})]}),Object(s.jsxs)(b.a,{title:e.key,size:"small",onClick:Object(o.a)(i.a.mark((function t(){return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:window.open("https://adventurepizza.github.io/Assemble/?profile="+e.key);case 1:case"end":return t.stop()}}),t)}))),children:[e.username," "]})," "]})},e.timestamp)}))}),Object(s.jsx)("div",{style:{fontSize:"0.9em",marginTop:3,marginLeft:13},children:Object(s.jsx)("b",{children:"Recent Status"})}),Object(s.jsxs)("div",{style:{display:"flex",width:"90%",marginLeft:"auto",marginRight:"auto",overflowX:"scroll"},children:[Object(s.jsx)("div",{style:{textAlign:"center"},children:Object(s.jsxs)("div",{style:{width:300,border:"solid 4px ",marginInline:4,padding:1},children:[Object(s.jsxs)("div",{style:{textAlign:"center",fontSize:"1.4em"},children:[_.song&&"string"===typeof _.song&&Object(s.jsx)("iframe",{allow:"autoplay *; encrypted-media *; fullscreen *",frameBorder:"0",height:"150",width:"100%",sandbox:"allow-forms allow-popups allow-same-origin allow-scripts allow-storage-access-by-user-activation allow-top-navigation-by-user-activation",src:_.song}),_.song&&_.song.type&&Object(s.jsx)("iframe",{title:_.timestamp,src:"https://open.spotify.com/embed/".concat(_.song.type,"/").concat(_.song.id,"?utm_source=generator"),width:"100%",height:"152",frameBorder:"0",allow:"autoplay; clipboard-write; encrypted-media; fullscreen; picture-in-picture"})]}),Object(s.jsxs)(b.a,{title:_.key,size:"small",onClick:Object(o.a)(i.a.mark((function e(){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:navigator.clipboard.writeText(_.key),W("Address copied ! "+_.key,{variant:"success"});case 2:case"end":return e.stop()}}),e)}))),children:[_.username," "]})]})}),X&&X.map((function(e){return(!n||e.key!==n.address)&&Object(s.jsx)("div",{style:{textAlign:"center",marginInline:6},children:Object(s.jsxs)("div",{style:{width:300,border:"solid 4px ",marginInline:4,padding:1},children:[Object(s.jsxs)("div",{style:{textAlign:"center",fontSize:"1.4em"},children:[e.song&&"string"===typeof e.song&&Object(s.jsx)("iframe",{allow:"autoplay *; encrypted-media *; fullscreen *",frameBorder:"0",height:"150",width:"100%",sandbox:"allow-forms allow-popups allow-same-origin allow-scripts allow-storage-access-by-user-activation allow-top-navigation-by-user-activation",src:e.song}),e.song&&"string"!=typeof e.song&&Object(s.jsx)("iframe",{title:e.timestamp,src:"https://open.spotify.com/embed/".concat(e.song.type,"/").concat(e.song.id,"?utm_source=generator"),width:"100%",height:"152",frameBorder:"0",allow:"autoplay; clipboard-write; encrypted-media; fullscreen; picture-in-picture"})]}),Object(s.jsxs)(b.a,{title:e.key,size:"small",onClick:Object(o.a)(i.a.mark((function t(){return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:navigator.clipboard.writeText(e.key),W("Address copied ! "+e.key,{variant:"success"});case 2:case"end":return t.stop()}}),t)}))),children:[e.username," "]})," "]})},e.key)}))]}),Object(s.jsxs)("div",{style:{width:"90%",marginLeft:"auto",marginRight:"auto"},children:[Object(s.jsx)("b",{children:"Preview"}),Object(s.jsxs)("div",{style:{marginBottom:10,width:"100%"},children:[I&&I.type&&I.id?Object(s.jsx)("iframe",{title:"preview",src:"https://open.spotify.com/embed/".concat(I.type,"/").concat(I.id,"?utm_source=generator"),width:"100%",height:"152",frameBorder:"0",allow:"autoplay; clipboard-write; encrypted-media; fullscreen; picture-in-picture"}):"Enter a spotify or apple music link for preview",I&&"string"===typeof I?Object(s.jsx)("iframe",{allow:"autoplay *; encrypted-media *; fullscreen *",frameBorder:"0",height:"150",width:"100%",sandbox:"allow-forms allow-popups allow-same-origin allow-scripts allow-storage-access-by-user-activation allow-top-navigation-by-user-activation",src:I}):"Enter a spotify or apple music link for preview"]}),Object(s.jsx)(j.a,{id:"outlined-basic",size:"small",label:"Spotify or apple music Link",variant:"outlined",placeholder:"https://open.spotify.com/",onChange:function(e){!function(e){console.log(e.split("/"));var t=e.split("/");"music.apple.com"===t[2]?T(e.replace("https://","https://embed.")):T({type:t[3],id:t[4]})}(e.target.value),ce(e.target.value)},value:ae,onKeyPress:function(e){e.key}}),Object(s.jsx)("br",{}),Object(s.jsx)("br",{}),Object(s.jsxs)("div",{style:{display:"flex",alignItems:"center"},children:[Object(s.jsx)(j.a,{id:"outlined-basic",size:"small",label:"info",variant:"outlined",placeholder:"Status",onChange:function(e){e.target.value.length<25?V(e.target.value):V(e.target.value.slice(0,25))},value:Q,onKeyPress:function(e){"Enter"===e.key&&ue()}}),Object(s.jsxs)(b.a,{size:"small",title:"update status",onClick:function(){ue()},children:[" ",n?Object(s.jsx)("u",{children:"update status"}):Object(s.jsx)("u",{children:"sync to join network1"})," "]})]})]}),Object(s.jsx)("div",{className:"bottom-left",style:{position:"absolute"},children:Object(s.jsxs)(b.a,{title:"Adventure Networks",size:"small",onClick:function(){},children:[" ",Object(s.jsxs)("div",{style:{textAlign:"left"},children:[" ","Adventure ",Object(s.jsx)("br",{}),"Networks"," "]})," "]})}),Object(s.jsxs)("div",{className:"bottom-right",style:{position:"absolute",display:"flex",alignItems:"center"},children:[k&&Object(s.jsxs)(b.a,{size:"small",title:"unsync",onClick:function(){!function(){ie.apply(this,arguments)}()},children:[Object(s.jsx)("u",{children:"unsync"})," "]}),k&&Object(s.jsx)("div",{children:" | "}),Object(s.jsxs)(b.a,{title:"sync",size:"small",onClick:Object(o.a)(i.a.mark((function e(){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,oe();case 2:case"end":return e.stop()}}),e)}))),children:[Object(s.jsx)("u",{children:g})," "]})]})]})},C=n(20),F=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,434)).then((function(t){var n=t.getCLS,s=t.getFID,r=t.getFCP,a=t.getLCP,c=t.getTTFB;n(e),s(e),r(e),a(e),c(e)}))};n.n(C).a.render(Object(s.jsx)(O,{children:Object(s.jsx)(w.a,{maxSnack:3,children:Object(s.jsx)(P,{})})}),document.getElementById("root")),F()}},[[383,1,2]]]);
//# sourceMappingURL=main.54ac608b.chunk.js.map